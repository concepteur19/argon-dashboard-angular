<!-- *ngIf="display == true && displayInnerFolder == false"
  (submit)="onSubmit()" -->

<!-- <div class="container-fluid"> -->
<div class="card rounded shadow p-5 mt-3 border-0">
  <h1 class="title text-lg-center">Remplissez le formulaire ci-dessous pour l'initiation de votre workflow.</h1>
  <form class="mt-3">
    <div class="row">
      <div class="col-lg-7">
        <div class="form-group">
          <label class="form-control-label"> Titre </label>
          <input [(ngModel)]="titre" class="form-control" type="text" />
        </div>
        <div class="form-group">
          <label class="form-control-label"> Message </label>
          <textarea
            name="message"
            [(ngModel)]="message"
            class="form-control"
          ></textarea>
        </div>
        <div class="form-group">
          <label class="form-control-label"> Priorité </label>
          <select class="form-control" name="priorite" [(ngModel)]="priorite">
            <option value="basse">basse</option>
            <option value="moyenne">moyenne</option>
            <option value="eleve">élevé</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-control-label"> Echéance </label>
          <input
            [(ngModel)]="echeance"
            class="form-control"
            id="exheance"
            name="echeance"
            type="date"
          />
        </div>
        <div class="form-group">
          <label class="form-control-label" for="statut"> Statut </label>
          <select
            class="form-control"
            name="statut"
            id="statut"
            [(ngModel)]="statut"
          >
            <option value="pas-demarre">Pas démarré</option>
            <option value="en-cours">En cours</option>
            <option value="suspendu">Suspendu</option>
            <option value="annule">Annulé</option>
            <option value="termine">Terminé</option>
          </select>
        </div>

        <label class="form-control-label" for="documents">
          Documents ajoutés
        </label>
        <div class="form-row justify-content-between">
          <div class="form-group col-lg-7">
            <input
              name="documents"
              [(ngModel)]="addDocuments"
              class="form-control"
            />
          </div>

          <div class="form-group col-lg-5">
            <!-- modal file button -->
            <button (click)="openModal('file')" class="btn btn-outline-primary form-control">
              Ajouter un document
            </button>
          </div>
        </div>

        <div>
          <div class="form-row">
            <!-- modal file button -->
            <div class="col-lg-6">
              <button
                (click)="openModal('task')"
                class="btn btn-outline-primary form-control"
              >
                Ajouter une tâche
              </button>
            </div>
            <div class="col-lg-6">
              <!-- modal user button -->
              <!-- (click)="openLg(content)" -->
              <button
                (click)="openModal('user')"
                class="btn btn-outline-primary form-control"
              >
                Ajouter un utilisateur
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- liste d'association des utilisateurs et des taches -->
      <div class="col-lg-5 card rounded border-0">
        <div class="form-row justify-content-arround">
          <div class="col-md-6">
            <h3 class="form-control-label">Tâches</h3>
            <div class="form-group" *ngFor="let task of tasksWorkflow">
              <select class="form-control" name="user" (change)="onTaskSelect($event.target.value, i)">
                <option *ngFor="let task of tasksWorkflow" [value]="task.id">
                  {{ task.titre }}
                </option>
              </select>
            </div>
          </div>
          <div class="col-md-6">
            <h3 class="form-control-label">Utilisateurs</h3>
            <div class="form-group" *ngFor="let task of tasksWorkflow">
              <select class="form-control" (change)="onUserSelect($event.target.value, i)">
                <option *ngFor="let user of usersWorkflow" [value]="user.id">
                  {{ user.name }}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bouton d'enregistrement -->
    <div>
      <div class="row justify-content-lg-end">
        <button
          class="btn btn-success col-lg-2 mt-3"
          type="submit"
          (click)="enregistrer()"
        >
          enregistrer
        </button>
      </div>
    </div>
  </form>
</div>
<!-- </div> -->
